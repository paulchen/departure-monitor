<div *ngIf="!loading">
  Haltestelle:

  <p-autoComplete [(ngModel)]="selectedStation" [suggestions]="results" (completeMethod)="search($event)" field="name" [forceSelection]="true" (onSelect)="selectStation($event)"></p-autoComplete>
  &nbsp;
  <p-button label="Aktuelle Position" (onClick)="useGeolocation()"></p-button>
</div>

<div style="padding-top: 1em;">
  <p-checkbox [(ngModel)]="saveHistory" [binary]="true" inputId="saveHistory" (onChange)="updateHistorySetting($event)"></p-checkbox>
  &nbsp;
  <label for="saveHistory">Zuletzt verwendete Haltestellen im Browser speichern</label>

  <div *ngIf="saveHistory" style="line-height: 3em;">
    <ng-container *ngFor="let station of mostRecentStations">
      <span>
        <p-button label="{{station.name}}" (onClick)="selectStation(station)"></p-button>
      </span>
      &nbsp;
    </ng-container>
  </div>
</div>

<div *ngIf="locationError">
  Die aktuelle Position konnte nicht ermittelt werden.
</div>

<div *ngIf="loading || loadingLocation">
  <p-progressSpinner></p-progressSpinner>
</div>

